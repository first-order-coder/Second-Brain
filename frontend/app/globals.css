@tailwind base;
@tailwind components;
@tailwind utilities;

/* Smooth fonts + focus ring alignment for dark bg */
:root { 
  color-scheme: dark; 
}
html, body { 
  height: 100%; 
}

::-moz-selection { 
  background: rgba(59,130,246,0.35); 
  color: #fff; 
}
::selection { 
  background: rgba(59,130,246,0.35); 
  color: #fff; 
}

/* Card surface */
.card-dark {
  @apply rounded-2xl border border-white/10 bg-slate-900/60 shadow-[0_10px_30px_-10px_rgba(2,6,23,0.5)];
}

/* Button base (optional helpers) */
.btn {
  @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500/40 focus:ring-offset-slate-900;
}
.btn-primary { 
  @apply bg-blue-600 text-white hover:bg-blue-500; 
}
.btn-neutral  { 
  @apply border border-white/10 bg-slate-900/60 text-slate-200 hover:bg-slate-900; 
}

:root {
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 221.2 83.2% 53.3%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 222.2 84% 4.9%;
  --muted: 210 40% 96%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96%;
  --accent-foreground: 222.2 84% 4.9%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 221.2 83.2% 53.3%;
  --radius: 0.5rem;
  --chart-1: 12 76% 61%;
  --chart-2: 173 58% 39%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;
}

.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;
  --primary: 217.2 91.2% 59.8%;
  --primary-foreground: 222.2 84% 4.9%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;
  --accent: 217.2 32.6% 17.5%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 224.3 76.3% 94.1%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;
}

* {
  border-color: hsl(var(--border));
}

body {
  color: hsl(var(--foreground));
  background: hsl(var(--background));
}

/* 3D Flip Card CSS - Battle-tested with Safari/WebKit compatibility */
.flip-card { 
  perspective: 1000px; 
  isolation: isolate;            /* avoids ancestor stacking weirdness */
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d; /* Safari */
  transition: transform 0.5s ease;
  will-change: transform;
}

.flip-card-inner.flipped {
  transform: rotateY(180deg);
}

.flip-card-front,
.flip-card-back {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden; /* Safari */
  overflow: auto;                      /* long answer scrolls */
  border-radius: 0.5rem;
}

.flip-card-front {
  z-index: 2; 
  transform: rotateY(0deg) translateZ(0);            /* explicit front face transform */
}

.flip-card-back {
  transform: rotateY(180deg) translateZ(0);
  z-index: 1;
}

/* Optional: prevent pointer bugs during transitions */
.flip-card-front * , .flip-card-back * {
  -webkit-transform: translateZ(0);
}

/* ---------- SURFACE SYSTEM (Light-focused) ---------- */
/* Base page background is already slate-50; we add layered surfaces for contrast. */

.sb-surface-0 { /* plain container (hero text areas) */
  @apply bg-transparent;
}

.sb-surface-1 { /* soft panel (quick start, pills, small panels) */
  @apply rounded-2xl bg-slate-100 border border-slate-200/80 shadow-sm;
}
.dark .sb-surface-1 { @apply bg-slate-900/60 border-white/10; }

.sb-surface-2 { /* prominent card (uploader box, feature highlights, demo panel) */
  @apply rounded-2xl bg-white border border-slate-200 shadow;
}
.dark .sb-surface-2 { @apply bg-slate-900/60 border-white/10 shadow-none; }

.sb-surface-hover { /* subtle lift on hover for Light */
  @apply transition-colors hover:border-slate-300;
}

/* Pills / chips that sit on surfaces */
.sb-pill {
  @apply inline-flex items-center gap-2 rounded-full border border-slate-300 bg-white px-3 py-1.5 text-sm text-slate-700;
}
.dark .sb-pill { @apply border-white/10 bg-slate-900/60 text-slate-300; }

/* Section rhythm */
.sb-section { @apply py-12 sm:py-16; }

/* Typographic helpers */
.sb-kicker { @apply text-xs font-medium tracking-wide uppercase text-slate-500; }
.sb-muted  { @apply text-slate-600; }

/* --- BAND BACKGROUNDS (Light-only) --- */
/* A soft band that spans full width behind card sections */
.sb-band {
  @apply bg-slate-100;
}
.dark .sb-band {
  @apply bg-transparent;
}

/* Optional gradient band for more depth (use on features if preferred) */
.sb-band-grad {
  @apply bg-gradient-to-b from-slate-100 to-slate-50;
}
.dark .sb-band-grad {
  @apply from-transparent to-transparent;
}

/* Slightly stronger elevation than sb-surface-2 without being heavy */
.sb-elevated {
  @apply ring-1 ring-slate-200 shadow-md;
}
.dark .sb-elevated {
  @apply ring-white/10 shadow-none;
}

/* ---- Light mode helpers for landing polish (non-invasive) ---- */
.sb-card { @apply rounded-2xl border border-slate-200/80 bg-white shadow-sm; }
.sb-card-hover { @apply transition-colors hover:border-slate-300; }
.sb-muted { @apply text-slate-600; }
.sb-quiet { @apply text-slate-500; }
.sb-kicker { @apply text-xs font-medium tracking-wide uppercase text-slate-500; }
.sb-section { @apply py-12 sm:py-16; }
.sb-btn-primary { @apply inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm bg-blue-600 text-white hover:bg-blue-500; }
.sb-btn-secondary { @apply inline-flex items-center justify-center rounded-xl px-3 py-1.5 text-sm border border-slate-300 bg-white text-slate-700 hover:bg-slate-50; }